(this["webpackJsonpsimple-login"]=this["webpackJsonpsimple-login"]||[]).push([[0],{158:function(e,t,n){},159:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t);var o=n(9),a=n(0),c=n(22),r=n.n(c),i=(n(158),n(159),n(111)),s=n.n(i),l=n(134),u=n(105),p=n(10),j=n(205),d=n(206),g=n(203),h=n(208),m=n(204),b=n(55),O=n(135),f=n.n(O),x=n(136),w=n.n(x),v=function(e){var t=Object(p.f)();window.localStorage.getItem("data")&&t.push("/welcome");var n=Object(a.useState)(""),c=Object(u.a)(n,2),r=c[0],i=c[1],O=Object(a.useState)(""),x=Object(u.a)(O,2),v=x[0],S=x[1],y=Object(a.useState)(!1),T=Object(u.a)(y,2),I=T[0],C=T[1],B={username:"",password:"",grant_type:"password",client_id:"filconnect-management"},E=function(){var n=Object(l.a)(s.a.mark((function n(){var o,a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return C(!0),console.log("Device ID from URL:",e.location.search),(o=B).username=r,o.password=v,o.grant_type="password",o.client_id="filconnect-management",a={"Content-Type":"application/x-www-form-urlencoded"},n.next=10,f()({url:"http://acclab.ph:9090/auth/realms/5D227A3E-F36B-1410-8BEB-0003021A1292/protocol/openid-connect/token",method:"POST",data:w.a.stringify(o),headers:a,responseType:"json"}).then((function(e){console.log(e),C(!1),window.localStorage.setItem("data",JSON.stringify(e)),b.b.success("Login Success",{position:b.b.POSITION.BOTTOM_CENTER}),t.push("/welcome")})).catch((function(e){console.log(e.response),C(!1),b.b.error(e.response.data.error_description||"Error",{position:b.b.POSITION.BOTTOM_CENTER})}));case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(o.jsx)(j.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(o.jsxs)(j.a.Column,{style:{maxWidth:450},children:[Object(o.jsx)(d.a,{as:"h2",color:"teal",textAlign:"center",children:"Log-in to your account"}),Object(o.jsx)(g.a,{size:"large",onSubmit:E,children:Object(o.jsxs)(h.a,{children:[Object(o.jsx)(g.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username",value:r,onChange:function(e){return i(e.target.value)}}),Object(o.jsx)(g.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",value:v,onChange:function(e){return S(e.target.value)}}),Object(o.jsx)(m.a,{color:"teal",fluid:!0,size:"large",loading:I,disabled:I,children:"Login"})]})})]})})},S=n(202),y=n(74),T=function(){var e=Object(p.f)();null===window.localStorage.getItem("data")&&e.push("/simple-login");return Object(o.jsxs)(S.a,{text:!0,children:[Object(o.jsx)(d.a,{as:"h1",content:"Hi, Welcome!",style:{fontSize:"4em",fontWeight:"normal",marginBottom:0,marginTop:"3em"}}),Object(o.jsx)(d.a,{as:"h2",content:"",style:{fontSize:"1.7em",fontWeight:"normal",marginTop:"1.5em"}}),Object(o.jsxs)(m.a,{primary:!0,size:"huge",onClick:function(){localStorage.clear(),e.push("/simple-login")},children:["Logout",Object(o.jsx)(y.a,{name:"right arrow"})]})]})},I=(n(186),n(79));var C=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(I.a,{children:Object(o.jsxs)(p.c,{children:[Object(o.jsx)(p.a,{exact:!0,path:"/",component:v}),Object(o.jsx)(p.a,{exact:!0,path:"/simple-login",component:v}),Object(o.jsx)(p.a,{exact:!0,path:"/welcome",component:T})]})}),Object(o.jsx)(b.a,{})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,209)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),o(e),a(e),c(e),r(e)}))};n(187);r.a.render(Object(o.jsx)(C,{}),document.getElementById("root")),B()}},[[188,1,2]]]);
//# sourceMappingURL=main.5f25b9ec.chunk.js.map